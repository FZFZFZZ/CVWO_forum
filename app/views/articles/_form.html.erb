<%= form_with model: article, class: 'needs-validation', novalidate: true do |form| %>
  
  <% if admin_user? %>
    <div class="form-group">
      <%= form.label :title, class: 'form-label', style: 'font-weight: bold;' %>
      <%= form.text_field :title, class: 'form-control' %>
      <% article.errors.full_messages_for(:title).each do |message| %>
        <div class="alert alert-danger"><%= message %></div>
      <% end %>
    </div>
    <br/>
    <div class="form-group">
      <%= form.label :year, class: 'form-label', style: 'font-weight: bold;' %>
      <%= form.number_field :year, class: 'form-control' %>
    </div>
    <br/>
    <div class="form-group">
      <%= form.label :status, class: 'form-label', style: 'font-weight: bold;' %>
      <%= form.select :status, Visible::VALID_STATUSES, { selected: article.status || 'public' }, { class: 'form-control', disabled: true } %>
    </div>
    <br/>
  <% end %>

  <div class="form-group">
    <%= form.label :Tag, class: 'form-label', style: 'font-weight: bold;' %>
    <%= form.text_field :tags, value: article.tags.map(&:name).join('|'), class: 'form-control' %>
  </div>
  <br/>

  <div class="form-group">
    <%= form.label :Introduction, class: 'form-label', style: 'font-weight: bold;' %>
    <%= form.text_area :body, class: 'form-control' %>
    <% article.errors.full_messages_for(:body).each do |message| %>
      <div class="alert alert-danger"><%= message %></div>
    <% end %>
  </div>
  <br/>
  <div class="form-group">
    <%= form.submit 'Update', class: 'btn btn-primary' %>
  </div>

<% end %>
