# Readme

## Preface

Deployed Link: [**https://movienow.fly.dev/**](https://movienow.fly.dev/)

Local Portal: [**http://localhost:3000/**](http://localhost:3000/)

This is my first-ever web project. I learnt the required software development knowledge all within 37 days (from 17 Dec 2023 to 25 Jan 2024)‚Äî‚Äî before that, I knew literally NOTHING (I even did not know how to code HTML at that time). If you find any terrible stupidity inside this project, please refrain from laughing and report to me, much appreciated!

I have tried my best to implement as many crazy features into it as possible, apart from fulfilling the assignment requirements. You will see data crawling (for updating the description of over 9000 movies on my local host), Machine Learning (for building the recommendation system), and even Physics and Mathematical derivation (for creating homepage animation).

## Project Description

### Functionality

Movienow is a smart movie discussion forum. 

A new user must sign up or sign in to view all features of the website. Username, email address and safe password must be provided for each registration.

The reviews under each movie are contributed by the vast user community, where each one of them is able to add, edit, delete his/her own comment and ‚ÄúLike‚Äù others‚Äô comments. The users are also free to edit the ‚Äúdescription‚Äù section of each movie, so that interesting descriptions by true lovers‚Äô will come up.

The ratings of each movie are also contributed by the user community. Ratings serve as one of the quality pointers for movies, as well as a sign of appetite for each user. Rating statistics is shown on every movie preface. A collaborative filtering algorithm has been developed using a public online data source, and is able to create unique movie recommendations for a user in accordance with the user‚Äôs appetite. When the algorithm runs, only the user‚Äôs own rating data (combined with the public data source) is uploaded for training of hypothetical ratings for his/her unrated movies (i.e. other website users data will not be used). 

<aside>
ü•∫ Currently, the recommendation can run only on my local machine. After deploying the website, all local data in my local database is cleared, and I have not managed to implement my algorithm due to time constrain. You will encounter an error message when clicking the ‚ÄúRun Algorithm‚Äù button on your profile page. A progress bar may be displayed, but it does not signify the algorithm running progress. I have made a screen-recording showing how the algorithm works on my localhost:3000. Please check the ‚ÄúRecommendation System‚Äù sub-section under the ‚ÄúGuide‚Äù section below.

</aside>

A new movie can be generated by the website admin, where ‚ÄúTitle‚Äù, ‚ÄúYear‚Äù, ‚ÄúTags‚Äù and initial ‚ÄúDescription‚Äù can be added. The users can click the tags displayed on each movie‚Äôs show page to find out top 10 rated movies under that tag category. The admin is able to add new tags or destroy a tag.

Tags and Years are used for filtering movies on the Searching page. At the same time, there is a searching-by-name method to directly search for movies the user wants. Two sorting methods are provided to help the user sort the searching & filtering result in terms of average ratings or first-letter alphabet. 

Each user has his/her unique homepage, where contact methods, rating history, recent comment history and Favourites are displayed. By clicking on another user‚Äôs name displayed on any comment, the current user is able to access that user‚Äôs homepage to find out more about him/her, so that social connections can be built up.

A user can choose to hide his contact methods, rating & comment history, or Favourites under user settings. At the same time, he/she is able to change the password and email. A current password confirmation is required every time a user wants to change his profile information.

The admin has the ability to add and delete a movie, as well as delete any comment created by any user. 

The ‚ÄúGuide‚Äù section below provides a detailed view on each and every function of this website.

### Development Framework

Local database: **SQLite3**

Deployed database: **PostgreSQL**

Backend: **Ruby 3.2.2**, **Rails 7.1.2**

Algorithm: **Python 3.11.5**

Frontend: **Rails 7.1.2, HTML & Javascript**

Deployment: **Fly.io**

Text editor: **Sublime Text** & **VS code**

<aside>
ü•∫ I have tried very hard and tried various ways to implement React and Typescript in my Rails. However, Tsloader, Entry File or Webpacker Configuration problems always exist, and I have to use Bootstrap to style my components due to time constrain. More detailed explanation of why I did not include React and Typescript can be found in my Write-up. Since Entry File problem persists, I have to stupidly include any Javascript code using <script></script> inside my HTML view page. Also, I am not sure why Python takes up such a big proportion on my Github language statistics. Python is only used for the collaborative filtering algorithm, which is just one small document under lib/assets/python.

</aside>

### Dependencies and Libraries

Backend:

**gem 'kaminari'**

**gem 'kaminari-bootstrap'**

**gem 'actiontext'**

**gem "rails", "~> 7.1.2"**

**gem "sprockets-rails"**

**gem "sqlite3", "~> 1.4"**

**gem 'redcarpet'**

**gem "puma", ">= 5.0"**

**gem "importmap-rails"**

**gem "turbo-rails"**

**gem "stimulus-rails"**

**gem "jbuilder"**

**gem 'csv'**

**gem 'ransack'**

**gem 'devise', '~> 4.9', '>= 4.9.3'**

**gem "tzinfo-data", platforms: %i[ windows jruby ]**

**gem "bootsnap", require: false**

**gem "debug", platforms: %i[ mri windows ]**

**gem "web-console"**

**gem "capybara"**

**gem "selenium-webdriver"**

**gem "dockerfile-rails", ">= 1.6", :group => :development**

**gem "pg", "~> 1.5"**

Frontend:

**P5.js**

**Bootstrap 5.3.0**

**Chart.js**

Algorithm:

**argparse**

**pandas**

**numpy**

**tensorflow**

**tensorflow - keras**

      **MovieLens "ml-latest-small" -** https://grouplens.org/datasets/movielens/latest/

## Guide

<aside>
‚úÖ The contents under ‚Äú*ADVANCED*‚Äù are explanations of theories or guidance for developers/the admin user. Simply follow the rest of content if you are a non-admin user. Furthermore, the pages marked by purple are only accessible by the admin.

</aside>

### Homepage

> [https://movienow.fly.dev/](https://movienow.fly.dev/)
> 
- ‚ÄúSIGN UP‚Äù redirects to **Sign-up page**
- ‚ÄúSIGN IN‚Äù redirects to **Sign-in page**

Press SIGN UP button for creating a new account. Press SIGN IN for logging into existing account. If you have logged into the page last time and Cache is not cleared, you can directly go to the article searching page. Refresh the page to get prettier animation, if your animation particles get stuck at first entry due to lagging.

- ***ADVANCED***
    
    This background animation is built with the aid of p5.js, and the idea is derived from **particle.js**. The respective Javascript code can be found under app/views/articles/home.html.erb, and is enclosed by the <script> tag.
    
    The animation aims to model an anti-clockwise circulation of particles under a central object, with minor random y-direction movement involved. Here are some explanations of code and my relevant Mathematical & Physics derivation.
    
    *Simple Harmonic Motion* can be viewed as both a projection of pendulum motion and a circular motion at certain directions. It is safe to convert the circular motion problem into a 2-D pendulum problem first: We have a bunch of particles being ejected from their randomised positions (restricted within a 360px ¬∑ (0 ¬± 300)px box at screen center) at random initial speed (‚âà $v_{max}$); We want to measure the relation between its displacement  $‚ñ≥x$ from equilibrium position (width of screen / 2) and its horizontal speed $v_{//}$, assuming it is undergoing a pendulum motion with some string length $l$ and gravity $g$. We have *specific* ****energy of the non-rotating particle $E$ :
    
    $$
    E = \frac 1 2v_{max}^2=\frac 1 2v^2 + g(1 -\sqrt {l^2 - ‚ñ≥x^2}).
    $$
    
    Rearrange the terms, we have:
    
    $$
    v = \sqrt {2g(\sqrt {l^2 - ‚ñ≥x^2} - \sqrt {l^2 - x_{max}^2})}.
    $$
    
    At the same time, we have 
    
    $$
    v_{//}=v¬∑\frac {\sqrt {l^2 - ‚ñ≥x^2}} l.
    $$
    
    Combine the equations, we get:
    
    $$
    v_{//}=k¬∑\sqrt {(l^2 - ‚ñ≥x^2)¬∑(\sqrt {l^2 - ‚ñ≥x^2}-\sqrt {l^2 - x_{max}^2})},
    $$
    
    where $k = \frac {\sqrt {2g}} l$. This formula explains the variable assignments within the moveParticle() method. Some other intentions:
    
    ```jsx
    let greenValue = (sin(currentTime * 0.0001 * sqrt(2)) + 1) * 128;
    let purpleValue = (sin(currentTime * 0.0001 * Math.PI) + 1) * 128;
    ```
    
    Use of irrational numbers ensure there does not exist two time instances that the same particle color is shown;
    
    ```jsx
    1 - 9 / ((currentTime * 0.02 + 0.3333) ** 2) + 1 / (currentTime * 0.01 + 0.3333) ** 3
    ```
    
    This intends to create a ‚Äúshrink then explode‚Äù effect when particles are just created;
    
    ```jsx
    color(greenValue, random(200, 255), purpleValue)
    random(-getK(1), getK(1))
    ```
    
    These add a ‚ÄúBlinking‚Äù effect and a diminishing ‚ÄúJumping‚Äù effect respectively;
    
    ```jsx
    if (millis() > 1200 && this.xSpeed > 2 && this.r < 30) // xSpped '<' clockwise, '>' anticlockwise
           this.r+= (deltaxspeed) * 2;
    ```
    
    This let particles grow big in size and then shrink in size as they move rightwards across the screen, while remaining their small size when moving leftwards. This intends to create the ‚Äúanti-clockwise movement‚Äù visualisation effect. millis() > 1200 and this.r < 30 are for enhancing the stability of the particle size (not too big & not too small).
    

### Sign-up page

> [https://movienow.fly.dev/users/sign_up](https://movienow.fly.dev/users/sign_up)
> 
- ‚ÄúSign up‚Äù, if successful, redirects to **Search page**
- ‚ÄúAlready have‚Ä¶Log in here‚Äù redirects to **Sign-in page**

You need to enter both your username **and** you email. If you leave any one of them blank, error message will pop up. If you key in an email that someone has taken, it will also be shown in the error message. If your Password confirmation does not equal to your Password, error message also pops up, reminding you of the inconsistency of the two Passwords. If your Password is less than 6 characters, error message pops up as well. Lastly, if you do not type in correct email format, error is produced. All types of errors will be displayed specifically in the error message.

If you get everything correct except that you key in a username that has already been taken, a ‚Äú**We're sorry, but something went wrong.‚Äù** error page will show up.

After filling in the information, press ‚ÄúSign up‚Äù button to register your new account. If everything goes smooth, you are redirected to the movie search page and you have already logged in if you can see the inner features of the website (search page, movie show page etc.).

- ***ADVANCED***
    
    A correct email format is identified by detecting whether there exists an ‚Äú@‚Äù character inside user‚Äôs input.
    

### Sign-in page

> [https://movienow.fly.dev/users/sign_in](https://movienow.fly.dev/users/sign_in)
> 
- ‚ÄúLog in‚Äù, if successful, redirects to **Search page**
- ‚ÄúSign up‚Äù redirects to **Sign-up page**

You need to enter your matching username and password for successful log-in. You can tick ‚ÄúRemember me‚Äù if you want to automatically login next time as long as the cache is not removed. If your username does not match password, the page got refreshed, with ‚ÄúPassword‚Äù form cleared while ‚ÄúLogin‚Äù form content remaining still.

- ***ADVANCED***
    
    Admin username: [Check My CVWO Write-up]
    
    Admin password: [Check My CVWO Write-up]
    

<aside>
ü•∫ Sending email to receive forgotten password is currently under troubleshooting. Pressing the ‚ÄúForgot your password‚Äú button will redirect you to a non-functioning email-sending site.

</aside>

### Search page

> [https://movienow.fly.dev/articles](https://movienow.fly.dev/articles)
> 
- Navbar-Home (icon) redirects to **Profile page (My)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**
- ‚ÄúReset‚Äù redirects to **Search page**
- All movie names (link) redirect to **Show movie page**

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

You will see our logo positioned at centre. The number $x$ in ‚ÄúOur forem has $x$ movies and is updating‚Äù updates in terms of total number of movies stored in the database once you refresh the webpage.

You can use **SEARCH** and **FILTER** to narrow down the range of movies you are looking for. Press ‚ÄúShow results‚Äù button to see the searching result below. Then, you can use **SORT** to sort the results in terms of average rating or first-letter alphabet. Press the respective button to sort the content. If you want to switch the sorting order (e.g. from ascending to descending), simply press that button again.

You can separately use **SEARCH** or **FILTER**, or combine them together. You can always press ‚ÄúReset‚Äù button to refresh the page and start searching from zero.

Speaking more about logic of **SEARCH**, first of all, it is ambiguous regarding Uppercase or Lowercase letters (e.g. ‚ÄúInterstellar‚Äù and ‚ÄúintErStelLar‚Äù produce the same result); Secondly, incomplete name does not matter (e.g. you can find *Interstellar* by searching ‚ÄúInt‚Äù, ‚Äúnte‚Äù, ‚Äústellar‚Äù etc.). However, the ordering of words of your input matters (e.g. you cannot find *The Godfather* by typing ‚ÄúGodfather The‚Äù); Misspelling of words matters (e.g. you cannot find *Coco* by typing ‚ÄúCaco‚Äù; Skipping words matters (e.g. you cannot find *The Last Emperor* by typing ‚ÄúThe Emperor‚Äù; Lastly, Punctuations are treated exactly like the letters (e.g. you cannot find *Mission: Impossible - Fallout* by typing ‚ÄúMission Impossible - Fallout‚Äù or ‚ÄúMission: Impossible Fallout‚Äù ‚Äî‚Äî the former one contains a Misspelling error, while the later contains a Word-skipping error.

<aside>
ü•∫ Correcting all of these stupid searching errors are included in my plan for the next-round improvement and update.

</aside>

I want to say more about **FILTER** as well. You can filter by Year or by Tag separately, or simultaneously (Year*** ‚ÄúWITH‚Äù Tag***). For filtering by Year, you are required to input an integer which spans across 1900 to 2024 (both end included). You can input the integer by direct typing or selecting a number. For filtering by Tags, you can hold your Command (for Windows, hold your Control) to select multiple tags at a time. In this case, you are searching for movies that fulfill Tag1 ‚ÄúOR‚Äù Tag2 ‚ÄúOR‚Äù Tag3 ‚Ä¶

Last, about **SORTING**. For alphabetical sorting, non-letter characters come either at very front, or very end; For rating sorting, if a movie has not been rated by anyone, a 3.5 rating score is temporarily assigned to it to do rating comparison with other movies. 3.5 is very close to the average of all ratings in the ml-latest-small data.

Movies are displayed below the searching & filtering & sorting controller. If no searching is done (e.g. the whole page gets refreshed), all movies are listed down below. You can use the Year annotated behind each movie title for you to better distinguish from movies with identical name. Once number of movies displayed exceeds 20, pagination works, and you can view all movies by navigating through the pagination buttons. 

- ***ADVANCED***
    - ‚ÄúAdd a new movie‚Äù button redirects to **Create movie page**
    
    You can find this button at the very bottom of the page.
    

### Show movie page

> E.g. [https://movienow.fly.dev/articles/1](https://movienow.fly.dev/articles/1)
> 
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**
- Navbar-IMDB (icon) redirects to IMDB Search page (external)
- ‚ÄúEdit Preface‚Äù button redirects to **Edit movie page**
- Add-comment (icon) redirects to **New review page**
- Tag (icon) redirects to **Show tag page**
- ‚ÄúEdit‚Äù button redirects to **Edit review page**
- ‚ÄúDelete‚Äù button redirects to **Show movie page**
- User-name (link) redirects to **Profile page (other‚Äôs)**

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back. Beside it, you can see a Navbar-Chat (icon) to quickly scroll down to the review section. At the corner, there is a Navbar-IMDB (icon). By clicking this, the website fetches the current movie title and automatically perform a search on IMDB. Then, it redirects you to IMDB and you can find the search results there. When the movie title is fetched, the lower case and upper case letters are made indistinguishable.

You can continue to view the title and the short description for the movie. A movie poster is fetched from TMDB every time you enter the page. Sometimes the background poster shows a wrong poster or does not show up. This is because the first searching result of TMDB based on the movie title is not the movie you desire.

You can choose to ‚ÄúLike‚Äù the movie by clicking the Red-Heart Icon to light it up. You can choose to unlike the movie by clicking the lighted-up Red-Heart Icon.

<aside>
ü•∫ Bug Claim! Clicking the ‚ÄúLike‚Äù or ‚ÄúUnlike‚Äù button too frequent (e.g. double clicking) may lead to undesirable outcomes. I am still troubleshooting it.

</aside>

You can view the movie Year and Tags displayed down on the left. Tags are displayed in the form of icons. Currently, the system supports displaying icons of the following 19 tags (Case-sensitive):

*Sci-Fi*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled.png)

*Adventure*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%201.png)

*War*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%202.png)

*Drama*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%203.png)

*Action*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%204.png)

*Children*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%205.png)

*Crime*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%206.png)

*IMAX*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%207.png)

*Documentary*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%208.png)

*Animation*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%209.png)

*Horror*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2010.png)

*Thriller*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2011.png)

*Musical*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2012.png)

*Western*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2013.png)

*Film-Noir*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2014.png)

*Mystery*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2015.png)

*Comedy*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2016.png)

*Fantasy*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2017.png)

*Romance*

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2018.png)

By clicking on each tag, you will be redirected to the **Show tag page**, where you can see a carousel of 10 top-rated movies for each tag. If there are not 10 movies, all movies containing that tag will show up.

<aside>
ü•∫ You may need to wait a little second for the **Show tag page** to pop up. It fetches 10 movies‚Äô posters from TMDB one-by-one. Enhancing this data fetching efficiency is included in my plan for the next-round improvement and update.

</aside>

By clicking ‚ÄúEdit Preface‚Äù button, you are redirected to the **Edit movie page** where you can freely edit the current movie description. I intentionally enable this feature because I believe that by doing so, the true lovers (or enthusiastic critics) can put interesting movie description on the website, making movie description section not just a meaningless decoration thing (little actually cares about what a serious movie description says on various movie review forums). For example, instead of showing ‚Äú*The adventures of a group of explorers who make use of a newly discovered wormhole to surpass the limitations on human space travel and conquer the vast distances involved in an interstellar voyage.*‚Äù, a description put up by one of my test users (a great astronomy guy) goes:

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2019.png)

Below the preface presents the rating statistics for this movie. On the left, you are able to submit or update your rating to the movie, depending on whether or not you have rated that movie. The left of the slide bar represents 0, while the right represents 5. If you have submitted a rating and have a rating presented on screen, you will be able to see real-time display of your rating data when you drag the slide bar.

<aside>
ü•∫ Bug Claim! Clicking ‚ÄúSubmit Rating‚Äù too frequent (e.g. double click) causes your rating being submitted twice and you will have more than one ratings on one movie (‚ÄùUpdate‚Äù does not cause this issue). This is a serious bug and is definitely included in the next-round improvement and update.

</aside>

The average rating is displayed at the centre, if any. The number of ratings per score level (0-1, 1-2, 2-3, 3-4, 4-5) is displayed on the right in the form of a Bar Chart with the aid of **Chart.js**.

Proceed to the REVIEW section. You will see a bunch of reviews of that movie, if any. By pressing the ‚ÄúSort by Time‚Äù button, the newest reviews will pop up to the top; By pressing the ‚ÄúSort by Likes‚Äù button, the reviews with the most number of ‚ÄúLikes‚Äù will pop up to the top.

Below, you will see others‚Äô reviews consisting of their username, post time stamp, rating data (if any), number of ‚ÄúLikes‚Äù and review textbody. If you find a review interesting, you can click on the ‚ÄúLike‚Äù button to light up the thumb icon, and the number of likes will be added 1. If you have ‚ÄúLiked‚Äù the review, you can ‚ÄúUnlike‚Äù it by pressing the lighted-up thumb icon, and the number of likes will be subtracted by 1.

<aside>
ü•∫ The page keeps getting refreshed after each of the ‚ÄúLike‚Äù or ‚ÄúUnlike‚Äù action. I did not use AJAX here due to my lack of knowledge. However, it is definitely included in the next-round update.

</aside>

You can click on a user‚Äôs username to see his/her profile information that is open to you. You can also choose which contents to hide from others by changing the profile settings, which will be covered later.

If the review contains spoiler, you will see a Spoiler warning at the top of that review.

If the review belongs to you, you will be able to see ‚ÄúDelete‚Äù and ‚ÄúEdit‚Äù button at bottom left corner of your review. The review will be IMMEDIATELY deleted once ‚ÄúDelete‚Äù is pressed, and the current page gets refreshed. The ‚ÄúEdit‚Äù button redirects you to a place where you can edit your past review.

The way to create a new review is simple: just click on the Add-comment icon locates below the REVIEWS title, which looks like:

![Write.png](Readme%209dfce0a13d16419c8a097d0a6b745be6/Write.png)

- ***ADVANCED***
    - ‚ÄúDelete This Movie‚Äù button redirects to **Search page**
    
    In addition to the non-admin user accessibilities, you will have the following additional accessibilities:
    
    First of all, you will see a ‚ÄúDelete This Movie‚Äù button beneath the ‚ÄúEdit Preface‚Äù button. By clicking the button, the movie gets IMMEDIATELY deleted.
    
    <aside>
    ü•∫ For avoiding all these ‚ÄúIMMEDIATELY deleted‚Äù stupidity, I will indeed remember to add in an ‚ÄúAre-You-Sure‚Äù message next time.
    
    </aside>
    
    Secondly, you will be able to edit and delete any user‚Äôs review. 
    

### Edit movie page

> E.g. [https://movienow.fly.dev/articles/1/edit](https://movienow.fly.dev/articles/1/edit)
> 
- ‚ÄúUpdate‚Äù, if successful, redirects to **Show movie page**
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

You can rewrite the movie description (introduction) in the textbox provided. This is the only legal move for non-admin users. The tags are displayed above to help you get a better sense of what the movie is about. You have to write a description that is longer than 5 characters. Space and Punctuations are treated as a legit character.

- ***ADVANCED***
    
    As an admin user, you are able to alter the Year, Title, Tags and Description of a movie. The Year and Title have no filling-in restrictions other than no null inputs, but an admin has the responsibility to keep these information real and accurate. The description input must also be longer than 5 characters.
    
    An admin user is free to create a new movie tag. However, the tags that have an icon are only the 19 tags listed in the **Show movie page** introduction above. If an unknown movie tag is introduced, a default tag icon will be assigned, which looks like:
    
    ![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2020.png)
    
    Use ‚Äú|‚Äù to separate each tag you want to include.
    
    <aside>
    ü•∫ Due to my vast stupidity, SPACE IS TREATED AS A LEGIT CHARACTER. As a result, ‚ÄúComedy‚Äù and ‚ÄúComedy ‚Äú produces two tags. Thus, you will usually have to ensure no space between tag names and the ‚Äú|‚Äù divider. For example, you want to add in ‚ÄúAdventure‚Äù, ‚ÄúAction‚Äù and ‚ÄúComedy‚Äù, you will have to key in ‚ÄúAdventure|Action|Comedy‚Äù instead of ‚ÄúAdventure | Action | Comedy‚Äù. Also due to my vast stupidity, the tags are case sensitive. Thus ‚ÄúAdventure‚Äù and ‚Äúadventure‚Äù produce two tags. For you to use tags with icons, you will have to follow the letter cases of tags listed in the **Show movie page** introduction above. I will definitely improve this on my next update.
    
    </aside>
    

### New movie page

- ***ADVANCED***
    
    > [https://movienow.fly.dev/articles/new](https://movienow.fly.dev/articles/new)
    > 
    - ‚ÄúUpdate‚Äù, if successful, redirects to **Show movie page**
    - Navbar-Home (icon) redirects to **Profile page (my)**
    - Navbar-Exit (icon) redirects to **Homepage**
    - Navbar-Setting (icon) redirects to **Setting page**
    - Navbar-Search (icon) redirects to **Search page**
    
    Please refer to the introduction of **Edit movie page** above. Any non-admin user who wants to access this page directly through url will be redirected to **Search page**.
    

### New review page

> E.g. [https://movienow.fly.dev/articles/1/comments/new](https://movienow.fly.dev/articles/1/comments/new)?
> 
- ‚ÄúPost‚Äù, if successful, redirects to **Show movie page**
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

You can create a new review here. The review body cannot be empty, otherwise you will not post your review successfully. If you think your review contains spoiler, simply tick the checkbox. As a result, a ‚ÄúSpoiler Warning‚Äù will be displayed on top of your review.

### Edit review page

> E.g. [https://movienow.fly.dev/articles/1/comments/4/edit](https://movienow.fly.dev/articles/1/comments/4/edit)
> 

<aside>
‚úÖ If you cannot access the page above, it means the authentication system works. You can only view the above edit review page example if you log in as an admin, or the user with username ‚Äúabl‚Äù, who is the one that initially posted the review.

</aside>

- ‚ÄúUpdate‚Äù, if successful, redirects to **Show movie page**
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

You can edit your past review here. The review body cannot be empty, otherwise you will not post your review successfully. If you think your review contains spoiler, simply tick the checkbox. As a result, a ‚ÄúSpoiler Warning‚Äù will be displayed on top of your review.

Only you and the admin can edit your review.

### Show tag page

> E.g. [https://movienow.fly.dev/tags/2](https://movienow.fly.dev/tags/2)
> 
- ‚ÄúSearch for more‚Äù button redirects to **Search page**
- All movie names (link) redirect to **Show movie page**
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**

You can view the top 10 rated (in terms of average rating only) movies which have that tag included here. The movies are displayed in a carousel. You can click on the title shown up at the button of the carousel to access more details about that movie in its show page. If there are fewer than 10 movies within that tag, all movies under that tag will be shown. If there is not any movie under that tag, the ‚ÄúOpps, no movie belongs to this tag‚Äù message will be shown instead of a carousel.

<aside>
ü•∫ Bug Claim! If a movie belongs to a tag but has not been rated by anyone, it will not be displayed in the carousel.

</aside>

The movie poster in each page of the carousel is fetched from TMDB by title searching. A wrong poster will be shown if the first TMDB searching result does not match your desired movie. A default poster will be shown if no results are found using TMDB search. The default poster looks like (Yes, I was lazy):

![Untitled](Readme%209dfce0a13d16419c8a097d0a6b745be6/Untitled%2020.png)

Click ‚ÄúSearch for more‚Äù button simply directs you to the **Search page**. 

- ***ADVANCED***
    - ‚ÄúEdit this tag‚Äù button redirects to **Edit tag page**
    - ‚ÄúBack to tags‚Äù button redirects to **Tag index page**
    - ‚ÄúDestroy this tag‚Äù button redirects to **Search page**
    
    If you are an admin user, you will see the additional ‚ÄúEdit this tag‚Äù, ‚ÄúBack to tags‚Äù and ‚ÄúDestroy this tag‚Äù buttons presented between the carousel and the ‚ÄúSearch for more‚Äù button.
    
    ‚ÄúDestroy this tag‚Äù IMMEDIATELY deletes the tag only, without deleting the movie that it belongs to. 
    
    <aside>
    ‚úÖ For example, you change tags of movie A from ‚Äúxxx|yyy‚Äù to ‚Äúxxx‚Äù. Now ‚Äúyyy‚Äù has no movie bounded but it is still shown in the Filter by Tag selection column in the **Search page.** At this time, you can go to the **Show tag page** of ‚Äúyyy‚Äù and destroy it.
    
    </aside>
    
    ‚ÄúEdit this tag‚Äù redirects you to a place where you are able to change the tag name only without changing any extra information in the database.
    
    <aside>
    ‚úÖ For example, if you accidentally typed ‚ÄúSci-fi‚Äù instead of ‚ÄúSci-Fi‚Äù when creating a new movie or editing the information of a movie, and you find that the default icon is shown instead of the ‚ÄúSci-Fi‚Äù icon, you can proceed to the **Edit tag page** to change ‚ÄúSci-fi‚Äù to ‚ÄúSci-Fi‚Äù. Nothing else will be changed.
    
    </aside>
    
    ‚ÄúBack to tags‚Äù redirects you to the **Tag index page**, where you can have a glance of all current tags available and create new tag.
    

### Tag index page

> [https://movienow.fly.dev/tags](https://movienow.fly.dev/tags)
> 
- Tag (link) redirects to **Show tag page**
- New tag (link) redirects to **Search page**

This page is accessible by all users. You can view all existing tags in this page and direct to the show page of each of them by clicking their names. However, if you are a non-admin user, you cannot add in a new tag ‚Äî‚Äî it redirects you to the **Search page**. Non-admin user can only access the page by key-in the page weblink above. There is no button or link that redirects to this page.

- ***ADVANCED***
    - New tag (link) redirects to **~~Search page~~ New tag page**
    
    Different from non-admin user, you will be able to create a new tag by clicking the ‚ÄúNew tag‚Äù link.
    

### New tag page

- ***ADVANCED***
    
    > [https://movienow.fly.dev/tags/new](https://movienow.fly.dev/tags/new)
    > 
    - ‚ÄúCreate Tag‚Äù button redirects to **Show tag page**
    - Back to tags (link) redirects to **Tag index page**
    
    You can create a new tag by typing its name inside the only textbox.
    
    <aside>
    ü•∫ I have not worked on this page seriously yet. Currently, you can create tags with the same name of others, or even a tag with empty name. Perhaps this page will be abandoned in the future, since new tags are automatically generated when you type in a non-existing tag in the **New movie page**.
    
    </aside>
    
    Any non-admin user trying to enter this page will be redirected to **Search page**.
    

### Edit tag page

- ***ADVANCED***
    
    > E.g. [https://movienow.fly.dev/tags/8/edit](https://movienow.fly.dev/tags/8/edit)
    > 
    - ‚ÄúUpdate Tag‚Äù button redirects to **Show tag page**
    - Back to tags (link) redirects to **Tag index page**
    - Show this tag (link) redirects to **Show tag page**
    
    You can change the name of the tag here. Nothing else in the database will change. 
    
    <aside>
    ü•∫ Due to my stupidity and laziness, currently the tags are case-sensitive, space sensitive and punctuations sensitive. You can even change the name of the tag to Null. The tag system indeed requires a big level-up.
    
    </aside>
    
    Any non-admin user trying to enter this page will be redirected to **Search page**.
    

### **Profile page (my)**

> E.g. [https://movienow.fly.dev/users/2](https://movienow.fly.dev/users/2)
> 
- All movie names (link) redirect to **Show movie page**
- ‚ÄúEdit Profile‚Äù button redirects to **Setting page**
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**
- Tag (icon) redirects to **Show tag page**
- ‚ÄúRun Algorithm‚Äù button redirects to **Recommendation output page**

<aside>
‚ö†Ô∏è If you are not visiting your own profile page, please go to the **Profile page (other‚Äôs)** section below.

</aside>

Welcome to your profile page! 

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

The body below the Navbar is divided into 5 major sections: My Contacts, Favourite movies, Recently Commented movies, Rating history and AI recommendation. Let us go through them one-by-one.

First of all, the contact section. It locates at the top left corner. As you add in more of your contact information (Email: compulsory, Phone: optional, Instagram: optional) in your profile settings, more contact methods will be displayed here. By clicking the ‚ÄúEdit Profile‚Äù button, you can go to reset your personal particulars and your privacy settings. If you do not turn off ‚ÄúMaking Contact Information Public‚Äù in your privacy settings, others will see this section if they visit your profile page upon signing in. 

<aside>
ü•∫ Currently, the default image at the top of the contact section is not changable. But I intend to make it a place where the users can change this profile picture by themselves. This feature will be added in the next update.

</aside>

Secondly, Favorites. Once you ‚ÄúLike‚Äù a movie by lighting-up the red heart, that movie will be added to this Favorites list; Once you ‚ÄúUnlike‚Äù a movie, that movie will be deleted from your Favorites list. Pagination occurs when more than 8 movies are displayed in this section. You can easily navigate to different sub-pages to view all the movies that you have ‚ÄúLiked‚Äù. If you do not turn off ‚ÄúMaking Favorites Public‚Äù in your privacy settings, others will see this section if they visit your profile page upon signing in. Each item in the list contains movie title, year and tags. You can access details of the movie or a tag by simply clicking the link or the icon.

Thirdly, Recently Commented movies. Here shows a list of 10 movies that you most recently reviewed upon. Each item in the list contains movie title, year and tags. You can access details of the movie or a tag by simply clicking the link or the icon.

Next, your Rating History. Here lists all the movies you have rated, with your rating put aside. You can access details of the movie by clicking its name. If you do not turn off ‚ÄúMaking History Public‚Äù in your privacy settings, others will see all your Rating History and Recently Commented movies if they visit your profile page upon signing in. 

Lastly, the most exciting AI part. A collaborative filtering algorithm has been developed using a public online data source, and is able to create unique movie recommendations for a user in accordance with the user‚Äôs appetite. When the algorithm runs, only the user‚Äôs own rating data (combined with the public data source) is uploaded for training of hypothetical ratings for his/her unrated movies (i.e. other website users data will not be used).

<aside>
ü•∫ Currently, the recommendation can run only on my local machine. After deploying the website, all local data in my local database is cleared, and I have not managed to implement my algorithm due to time constrain. You will encounter an error message when clicking the ‚ÄúRun Algorithm‚Äù button on your profile page. A progress bar may be displayed, but it does not signify the algorithm running progress. I have made a screen-recording showing how the algorithm works on my localhost:3000.  Please check the ‚ÄúRecommendation System‚Äù section below.

</aside>

### **Profile page (other‚Äôs)**

> E.g. [https://movienow.fly.dev/users/2](https://movienow.fly.dev/users/2)
> 
- All movie names (link) redirect to **Show movie page**
- Tag (icon) redirects to **Show tag page**
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**

<aside>
‚ö†Ô∏è If you are visiting your own profile page, please go to the **Profile page (my)** section below.

</aside>

You are visiting another user‚Äôs profile page. 

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

The body below the Navbar is divided into 4 major sections: My Contacts, Favourite movies, Recently Commented movies and Rating history. Let us go through them one-by-one.

First of all, the contact section. It locates at the top left corner. As that user adds in more of his/her contact information (Email: compulsory, Phone: optional, Instagram: optional) in your profile settings, more contact methods will be displayed here. If that user turns off ‚ÄúMaking Contact Information Public‚Äù in his/her privacy settings, you will only see the ‚ÄúThe user has chosen to hide this section.‚Äù message. You can make use of these information to build connection in real life with that person.

<aside>
ü•∫ Due to time constrain, I was not able to implement a ‚ÄúFriends‚Äù functionality. Hopefully I will implement this in future updates.

</aside>

Secondly, Favorites. Once the user ‚ÄúLike‚Äù a movie by lighting-up the red heart, that movie will be added to his/her Favorites list; Once he/she ‚ÄúUnlike‚Äù a movie, that movie will be deleted from this Favorites list. Pagination occurs when more than 8 movies are displayed in this section. You can easily navigate to different sub-pages to view all the movies that the user has ‚ÄúLiked‚Äù. Each item in the list contains movie title, year and tags. You can access details of the movie or a tag by simply clicking the link or the icon. If the user turns off ‚ÄúMaking Favorites Public‚Äù in his/her privacy settings, you will only see the ‚ÄúThe user has chosen to hide this section.‚Äù message.

Thirdly, Recently Commented movies. Here shows a list of 10 movies that the user most recently reviewed upon. Each item in the list contains movie title, year and tags. You can access details of the movie or a tag by simply clicking the link or the icon. Next, the Rating History. Here lists all the movies the user have rated, with his/her rating displayed aside. You can access details of the movie by clicking its name. If the user turns off ‚ÄúMaking History Public‚Äù in your privacy settings, you will only see the ‚ÄúThe user has chosen to hide this section.‚Äù message appearing inside both the Recently Commented movies section and the Rating History section.

- ***ADVANCED***
    - ‚ÄúRun Algorithm‚Äù button redirects to **Recommendation output page**
    - ‚ÄúEdit Profile‚Äù button redirects to **Setting page**
    
    If you are an admin, you can access all information on the user‚Äôs profile page, even if he/she has put certain privacy settings. You can see the ‚ÄúRun Algorithm‚Äù and ‚ÄúEdit Profile‚Äù buttons as well.
    
    <aside>
    ü•∫ Nonetheless, if you click ‚ÄúRun Algorithm‚Äù on another user‚Äôs page, the server runs recommendation for YOU using YOUR DATA (the result is the same as clicking the button in your own profile page). If you click ‚ÄúEdit Profile‚Äù, you are redirected to a site which allows you to change your own particulars instead of his/her particulars. In future updates, these two buttons will simply be hidden even if the visitor is an admin. Also, currently, the recommendation can run only on my local machine. After deploying the website, all local data in my local database is cleared, and I have not managed to implement my algorithm due to time constrain. You will encounter an error message when clicking the ‚ÄúRun Algorithm‚Äù button on your profile page. A progress bar may be displayed, but it does not signify the algorithm running progress. I have made a screen-recording showing how the algorithm works on my localhost:3000.  Please check the ‚ÄúRecommendation System‚Äù section below.
    
    </aside>
    

### Setting **page**

> [https://movienow.fly.dev/users/edit](https://movienow.fly.dev/users/edit)
> 
- Navbar-Home (icon) redirects to **Profile page (my)**
- Navbar-Exit (icon) redirects to **Homepage**
- Navbar-Setting (icon) redirects to **Setting page**
- Navbar-Search (icon) redirects to **Search page**
- ‚ÄúUpdate‚Äù button, if successful, redirects to **Profile page (my)**
- ‚ÄúCancel my account‚Äù button redirects to **Homepage**

Starting from the Navbar. You are able to see greeting messages tailored for you at top left corner in terms of the timings you log in. At the top right corner, you can use the Navbar-Top (icon) to return to the top of the page when you scroll down the page and want to quickly go back.

You can change all your profile settings here. Follow the specific error messages popped up if your update does not fulfill certain requirements, pretty self-explanatory :)

No matter how much you update your profile setting, you will always need to type in your current passwords to confirm your changes.

<aside>
ü•∫ ‚ÄúCancel my account‚Äù current does not work and is still under urgent troubleshooting. If this feature is successfully implemented, all your records on this website will be destroyed, together with your account.

</aside>